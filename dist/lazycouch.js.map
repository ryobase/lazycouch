{"version":3,"sources":["webpack:///lazycouch.js","webpack:///webpack/bootstrap ef9572d8541847362795","webpack:///./src/core.js","webpack:///./src/utility/view.js"],"names":["lazycouch","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","extend","out","key","args","arguments","length","getAttrs","elem","isIE","_o","dataSet","forEach","el","lazySrc","getAttribute","lazySrcset","console","log","dataset","setAttrs","conf","_a","_tag","tagName","setAttribute","indexOf","style","backgroundImage","setDone","showElements","removeClass","cls","classList","remove","className","replace","RegExp","split","join","addClass","add","_view","navigator","userAgent","test","defaults","useIO","useApp","container","window","document","defaultSelector","options","root","rootMargin","threshold","callback","useClass","loadingClass","doneClass","onload","debounce","isNull","a","toString","detach","arr","filter","obj","self","this","warn","querySelector","Error","_timeModel","set","on","observe","bind","type","error","addEvt","addEventListener","_type","_e","off","rmvEvt","removeEventListener","elements","_arr","querySelectorAll","_elements","Array","slice","cb","_el","_l","intstobs","runcallback","_upd","view","inview","entry","intersectionRatio","target","_obsvr","unobserve","IntersectionObserver","_sc","ev","clearTimeout","setTimeout","requestAnimationFrame","destroy","value","doc","documentElement","viewport","matchMedia","msMatchMedia","h","clientHeight","innerHeight","w","clientWidth","innerWidth","height","width","rect","nodeType","getBoundingClientRect","r","v","bottom","right","top","left","scroll","pageYOffset","scrollTop"],"mappings":"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","file":"lazycouch.js","sourcesContent":["var lazycouch =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _view = __webpack_require__(1);\n\nvar isIE = navigator.userAgent.indexOf('MSIE') !== -1,\n    isIE11 = /Trident\\/\\d+.\\d+;/.test(navigator.userAgent),\n    reg = new RegExp(\"lazy[A-Z](.*)\"),\n    regComment = \"lazyComment\",\n    regDone = \"lazyDone\";\n\nvar limitPoll = 3;\nvar limitCnt = 0;\n\nvar updateEvent = void 0,\n    destroyEvent = void 0,\n    doneEvent = void 0;\n\nvar dataSet = \"data-lazy-src|data-lazy-srcset\".split('|');\n\nvar defaults = {\n    useIO: true,\n    useApp: false, // Use app will limit the scope of DOM tree\n    container: window.document,\n    defaultSelector: \"img[data-lazy-src]\",\n    options: {\n        root: null, // Container. Leave as is if you want to use browser viewport\n        rootMargin: \"0px\", // Threshold margin\n        threshold: null // The list of visibility ratio thresholds\n    },\n    callback: null,\n    useClass: false,\n    loadingClass: \"is-lazyloading\",\n    doneClass: \"is-lazydone\",\n    onload: true,\n    debounce: 250\n};\n\nvar isNull = function isNull(a) {\n    return Object.prototype.toString.call(a).indexOf(\"Null\") !== -1;\n};\nvar detach = function detach(arr) {\n    return arr.filter(function (elem) {\n        return isNull(elem.getAttribute(\"data-lazy-done\"));\n    });\n};\n\nfunction extend(out) {\n    out = out || {};\n    var i = 1,\n        key = void 0,\n        args = arguments;\n    for (; i < args.length; i++) {\n        if (!args[i]) continue;\n\n        for (key in args[i]) {\n            if (args[i].hasOwnProperty(key)) out[key] = args[i][key];\n        }\n    }\n    return out;\n}\n\nfunction getAttrs(elem) {\n    // Extract list of 'data' attribute\n    if (isIE) {\n        var _o = {};\n        dataSet.forEach(function (el) {\n            switch (el) {\n                case \"data-lazy-src\":\n                    _o.lazySrc = elem.getAttribute(el);\n                    break;\n                case \"data-lazy-srcset\":\n                    _o.lazySrcset = elem.getAttribute(el);\n                    break;\n                default:\n                    break;\n            }\n        });\n        console.log(_o);\n        return _o;\n    }\n    return extend({}, elem.dataset);\n}\n\nfunction setAttrs(elem, conf) {\n    var _a = getAttrs(elem),\n        _tag = elem.tagName,\n        _type = \"\";\n\n    if (_a.lazySrcset) {\n        elem.setAttribute(\"srcset\", _a.lazySrcset);\n    }\n    if (_a.lazySrc) {\n        if (_tag.indexOf(\"IMG\", \"IFRAME\") !== -1) elem.setAttribute(\"src\", _a.lazySrc);else elem.style.backgroundImage = 'url(\"' + _a.lazySrc + '\")';\n    }\n}\n\nfunction setDone(elem) {\n    // Add a flag\n    elem.setAttribute(\"data-lazy-done\", true);\n}\n\nfunction showElements(elem, conf) {\n    setAttrs(elem, conf);\n    setDone(elem);\n}\n\nfunction removeClass(elem, cls) {\n    if (!elem.classList) elem.className = elem.className.replace(new RegExp('(^|\\\\b)' + cls.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');else elem.classList.remove(cls);\n}\n\nfunction addClass(elem, cls) {\n    if (elem.classList) elem.classList.add(cls);else elem.className += ' ' + cls;\n}\n\nfunction initpoll(inst) {\n    var stop = limitCnt === limitPoll ? true : false;\n\n    if (!stop) {\n        for (var i = 0; i < inst._elements.length; i++) {\n            if (_view.view.inview(inst._elements[i])) {\n                showElements(inst._elements[i], inst.conf);\n                break;\n            }\n        }\n        limitCnt++;\n        window.setTimeout(initpoll.bind(null, inst), inst.conf.debounce);\n    }\n}\n\n/**\r\n * Constructor\r\n * @param {object} obj configuration object\r\n */\nvar lazycouch = function lazycouch(obj) {\n    var self = this;\n    obj = Object.prototype.toString.call(obj) === \"[object Object]\" ? obj : {};\n    self.conf = extend(defaults, obj);\n\n    if (self.conf.container !== defaults.container && self.conf.useApp) {\n        console.warn(\"Using \\\"useApp\\\" option has overrode the container setting. You've been warned\");\n    }\n\n    if (self.conf.useApp) {\n        self.conf.container = document.querySelector(\"*[data-lazy-app]\");\n        if (isNull(self.conf.container)) throw new Error(\"Unable to find relavant element to attach to\");\n    }\n\n    self._timeModel = 0;\n\n    self.set();\n    if (self.conf.onload) self.on('load', self.observe.bind(self));else self.observe();\n\n    return self;\n};\n\n/**\r\n * window.addEventListener wrapper with multiple events hook support\r\n * @param {string} Event string. Multiple events are separated by white space\r\n * @param {function} Function callback\r\n */\nlazycouch.prototype.on = function (type, callback) {\n    if (typeof callback !== \"function\") {\n        console.error(callback, \" is not type of function\");\n        return this;\n    } else if (typeof type !== \"string\") {\n        console.error(type, \" is not type of string\");\n        return this;\n    }\n    var self = this,\n        addEvt = window.addEventListener;\n\n    var _type = type.split(' ');\n    var i = void 0,\n        _e = void 0;\n\n    for (i = 0; i < _type.length; i++) {\n        _e = _type[i];\n        addEvt(_e, callback);\n    }\n\n    return self;\n};\n\n/**\r\n * window.removeEventListener wrapper with multiple events hook support\r\n * @param {string} Event string. Multiple events are separated by white space\r\n * @param {function} Function callback\r\n */\nlazycouch.prototype.off = function (type, callback) {\n    if (typeof callback !== \"function\") {\n        console.error(callback, \" is not type of function\");\n        return this;\n    } else if (typeof type !== \"string\") {\n        console.error(type, \" is not type of string\");\n        return this;\n    }\n    var rmvEvt = window.removeEventListener;\n    var _type = type.split(' ');\n    var i = void 0,\n        _e = void 0;\n\n    for (i = 0; i < _type.length; i++) {\n        _e = _type[i];\n        rmvEvt(_e, callback);\n    }\n\n    return self;\n};\n\n/**\r\n * Setting up the elements\r\n * @param element {HTMLElements|string} [optional]\r\n */\nlazycouch.prototype.set = function () {\n    var self = this;\n    var elements = void 0,\n        _arr = void 0;\n\n    _arr = arguments.length > 0 ? arguments[0] : self.conf.defaultSelector;\n    elements = typeof _arr === \"string\" ? self.conf.container.querySelectorAll(_arr) : _arr;\n    self._elements = Array.prototype.slice.call(elements);\n\n    return self;\n};\n\n/**\r\n * Setting up the observer, use Intersection Observer API if available\r\n */\nlazycouch.prototype.observe = function () {\n    var self = this,\n        cb = self.conf.callback;\n    var i = void 0,\n        _el = void 0,\n        _l = void 0,\n        intstobs = void 0,\n        runcallback = 0;\n\n    self._upd = function () {\n        var elements = void 0,\n            _arr = void 0;\n\n        self._elements.forEach(function (elem) {\n            if (_view.view.inview(elem)) showElements(elem, self.conf);\n        });\n\n        self._elements = detach(self._elements);\n\n        // Detach resize event if all elements are detached\n        if (self._elements.length < 1) {\n            self.off('resize', self._upd);\n        }\n    };\n\n    if (window[\"IntersectionObserver\"] === void 0) {\n        console.warn(\"IntersectionObserver is not supported on this browser.\" + \"Falling back to scroll-based event\");\n        self.conf.useIO = false;\n    }\n\n    if (self.conf.useIO) {\n        console.log(\"Using IntersectionObserver API\");\n\n        intstobs = function intstobs(el) {\n            runcallback = 0;\n            el.forEach(function (entry) {\n                if (entry.intersectionRatio) {\n                    showElements(entry.target, self.conf);\n\n                    if (self.conf.useClass) {\n                        removeClass(entry.target, self.conf.loadingClass);\n                        addClass(entry.target, self.conf.doneClass);\n                    }\n\n                    self._obsvr.unobserve(entry.target);\n                    if (typeof cb === \"function\") runcallback = 1;\n                }\n            });\n            self._elements = detach(self._elements);\n            if (runcallback) cb.call(null);\n        };\n\n        self._obsvr = new IntersectionObserver(intstobs, self.conf.options);\n\n        self._elements.forEach(function (el) {\n            self._obsvr.observe(el);\n        });\n    } else {\n        console.log(\"Using scroll event\");\n\n        self._sc = function (ev) {\n            _l = self._elements.length;\n\n            window.clearTimeout(self._timeModel);\n            runcallback = 0;\n\n            if (_l < 1) {\n                // Unattach the event itself once all elements are loaded\n                self.off('scroll', self._sc);\n                return;\n            }\n\n            // Debouncing to prevent performance bottlenecking \n            self._timeModel = window.setTimeout(function () {\n                for (i = 0; i < _l; i++) {\n                    _el = self._elements[i];\n                    if (_view.view.inview(_el)) {\n                        showElements(_el, self.conf);\n\n                        if (self.conf.useClass) {\n                            removeClass(_el, self.conf.loadingClass);\n                            addClass(_el, self.conf.doneClass);\n                        }\n\n                        if (typeof cb === \"function\") runcallback = 1;\n                    }\n                }\n                self._elements = detach(self._elements);\n                if (runcallback) cb.call(null);\n            }, self.conf.debounce);\n        };\n        self.on('scroll', self._sc).on('resize', self._upd);\n\n        // Update the elements on first initial view\n        window.requestAnimationFrame(self._upd);\n    }\n\n    return self;\n};\n\n/**\r\n * Self-destruct. Game over man.\r\n */\nlazycouch.prototype.destroy = function () {\n    // Self-destruct. Game over man.\n    var self = this;\n    var _arr = detach(self._elements);\n\n    if (self._obsvr) {\n        _arr.forEach(function (el) {\n            self._obsvr.unobserve(el);\n        });\n        self._obsvr = null;\n    } else {\n        self.off('scroll', self._sc).off('resize', self._upd);\n    }\n\n    self._elements = [];\n    self.conf = {};\n\n    return self;\n};\n\nmodule.exports = lazycouch;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\r\n * @module view\r\n * @description A module for checking if element is in view or not\r\n * @author Moss Pakhapoca\r\n */\n\nvar doc = document && document.documentElement;\nvar matchMedia = window.matchMedia || window.msMatchMedia;\n\nvar mediaQuery = function mediaQuery(q) {\n    return matchMedia ? matchMedia.call(window, q).matches : false;\n};\n\nvar viewport = function viewport() {\n    var h = doc.clientHeight < window.innerHeight;\n    var w = doc.clientWidth < window.innerWidth;\n    return {\n        height: h ? window.innerHeight : doc.clientHeight,\n        width: w ? window.innerWidth : doc.clientWidth\n    };\n};\n\nvar rect = function rect(el) {\n    el = el && !el.nodeType ? el[0] : el;\n    if (!el || 1 !== el.nodeType) return {};\n    return el.getBoundingClientRect();\n};\n\nvar inview = function inview(el) {\n    var r = rect(el),\n        v = viewport();\n    return !!r && r.bottom >= 0 && r.right >= 0 && r.top <= v.height && r.left <= v.width;\n};\n\nvar scroll = function scroll() {\n    return window.pageYOffset || doc.scrollTop;\n};\n\nvar view = exports.view = {\n    viewport: viewport,\n    inview: inview,\n    scroll: scroll\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// lazycouch.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ef9572d8541847362795","\"use strict\";\r\n\r\nimport { view } from 'Utility/view';\r\n\r\nconst isIE = navigator.userAgent.indexOf('MSIE') !== -1,\r\n    isIE11 = /Trident\\/\\d+.\\d+;/.test(navigator.userAgent),\r\n    reg = new RegExp(\"lazy[A-Z](.*)\"),\r\n    regComment = \"lazyComment\",\r\n    regDone = \"lazyDone\";\r\n\r\nconst limitPoll = 3;\r\nlet limitCnt = 0;\r\n\r\nlet updateEvent,\r\n    destroyEvent,\r\n    doneEvent;\r\n\r\nconst dataSet = \"data-lazy-src|data-lazy-srcset\".split('|');\r\n\r\nconst defaults = {\r\n    useIO: true,\r\n    useApp: false, // Use app will limit the scope of DOM tree\r\n    container: window.document,\r\n    defaultSelector: \"img[data-lazy-src]\",\r\n    options: {\r\n        root: null, // Container. Leave as is if you want to use browser viewport\r\n        rootMargin: \"0px\", // Threshold margin\r\n        threshold: null, // The list of visibility ratio thresholds\r\n    },\r\n    callback: null,\r\n    useClass: false,\r\n    loadingClass: \"is-lazyloading\",\r\n    doneClass: \"is-lazydone\",\r\n    onload: true,\r\n    debounce: 250\r\n};\r\n\r\nconst isNull = (a) => Object.prototype.toString.call(a).indexOf(\"Null\") !== -1;\r\nconst detach = (arr) => {\r\n    return arr.filter((elem) => isNull(elem.getAttribute(\"data-lazy-done\")));\r\n}\r\n\r\nfunction extend(out) {\r\n    out = out || {};\r\n    let i = 1, key, args = arguments;\r\n    for (; i < args.length; i++) {\r\n        if (!args[i]) continue;\r\n\r\n        for (key in args[i])\r\n            if (args[i].hasOwnProperty(key))\r\n                out[key] = args[i][key];\r\n    }\r\n    return out;\r\n}\r\n\r\nfunction getAttrs(elem) {\r\n    // Extract list of 'data' attribute\r\n    if (isIE) {\r\n        let _o = {};\r\n        dataSet.forEach((el) => {\r\n            switch (el) {\r\n                case \"data-lazy-src\":\r\n                    _o.lazySrc = elem.getAttribute(el);\r\n                    break;\r\n                case \"data-lazy-srcset\":\r\n                    _o.lazySrcset = elem.getAttribute(el);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n        console.log(_o);\r\n        return _o;\r\n    }\r\n    return extend({}, elem.dataset);\r\n}\r\n\r\nfunction setAttrs(elem, conf) {\r\n    let _a = getAttrs(elem),\r\n        _tag = elem.tagName,\r\n        _type = \"\";\r\n\r\n    if (_a.lazySrcset) {\r\n        elem.setAttribute(\"srcset\", _a.lazySrcset);\r\n    }\r\n    if (_a.lazySrc) {\r\n        if (_tag.indexOf(\"IMG\", \"IFRAME\") !== -1) elem.setAttribute(\"src\", _a.lazySrc);\r\n        else elem.style.backgroundImage = 'url(\"' + _a.lazySrc + '\")';\r\n    }\r\n}\r\n\r\nfunction setDone(elem) {\r\n    // Add a flag\r\n    elem.setAttribute(\"data-lazy-done\", true);\r\n}\r\n\r\nfunction showElements(elem, conf) {\r\n    setAttrs(elem, conf);\r\n    setDone(elem);\r\n}\r\n\r\nfunction removeClass(elem, cls) {\r\n    if (!elem.classList)\r\n        elem.className = elem.className.replace(new RegExp('(^|\\\\b)' \r\n        + cls.split(' ').join('|') \r\n        + '(\\\\b|$)', 'gi'), ' ');\r\n    else \r\n        elem.classList.remove(cls);\r\n}\r\n\r\nfunction addClass(elem, cls) {\r\n    if (elem.classList)\r\n        elem.classList.add(cls);\r\n    else\r\n        elem.className += ' ' + cls;\r\n}\r\n\r\nfunction initpoll(inst) {\r\n    let stop = limitCnt === limitPoll ? true : false;\r\n\r\n    if (!stop) {\r\n        for (let i = 0; i < inst._elements.length; i++) {\r\n            if (view.inview(inst._elements[i])) {\r\n                showElements(inst._elements[i], inst.conf);\r\n                break;\r\n            }\r\n        } \r\n        limitCnt++;\r\n        window.setTimeout(initpoll.bind(null, inst), inst.conf.debounce);\r\n    }\r\n\r\n}\r\n\r\n\r\n/**\r\n * Constructor\r\n * @param {object} obj configuration object\r\n */\r\nlet lazycouch = function (obj) {\r\n    const self = this;\r\n    obj = Object.prototype.toString.call(obj) === \"[object Object]\" ? obj : {};\r\n    self.conf = extend(defaults, obj);\r\n\r\n    if (self.conf.container !== defaults.container && self.conf.useApp) {\r\n        console.warn(\"Using \\\"useApp\\\" option has overrode the container setting. You've been warned\");\r\n    }\r\n\r\n    if (self.conf.useApp) {\r\n        self.conf.container = document.querySelector(\"*[data-lazy-app]\");\r\n        if (isNull(self.conf.container)) \r\n            throw new Error(\"Unable to find relavant element to attach to\");\r\n    }\r\n\r\n    self._timeModel = 0;\r\n\r\n    self.set();\r\n    if (self.conf.onload) self.on('load', self.observe.bind(self));\r\n    else self.observe();\r\n\r\n    return self;\r\n};\r\n\r\n/**\r\n * window.addEventListener wrapper with multiple events hook support\r\n * @param {string} Event string. Multiple events are separated by white space\r\n * @param {function} Function callback\r\n */\r\nlazycouch.prototype.on = function (type, callback) {\r\n    if (typeof callback !== \"function\") {\r\n        console.error(callback, \" is not type of function\");\r\n        return this;\r\n    } else if (typeof type !== \"string\") {\r\n        console.error(type, \" is not type of string\");\r\n        return this;\r\n    }\r\n    const self = this,\r\n        addEvt = window.addEventListener;\r\n        \r\n    let _type = type.split(' ');\r\n    let i, _e;\r\n\r\n    for (i = 0; i < _type.length; i++) {\r\n        _e = _type[i];\r\n        addEvt(_e, callback);\r\n    }\r\n\r\n    return self;\r\n};\r\n\r\n/**\r\n * window.removeEventListener wrapper with multiple events hook support\r\n * @param {string} Event string. Multiple events are separated by white space\r\n * @param {function} Function callback\r\n */\r\nlazycouch.prototype.off = function (type, callback) {\r\n    if (typeof callback !== \"function\") {\r\n        console.error(callback, \" is not type of function\");\r\n        return this;\r\n    } else if (typeof type !== \"string\") {\r\n        console.error(type, \" is not type of string\");\r\n        return this;\r\n    }\r\n    const rmvEvt = window.removeEventListener;\r\n    let _type = type.split(' ');\r\n    let i, _e;\r\n\r\n    for (i = 0; i < _type.length; i++) {\r\n        _e = _type[i];\r\n        rmvEvt(_e, callback);\r\n    }\r\n\r\n    return self;\r\n};\r\n\r\n/**\r\n * Setting up the elements\r\n * @param element {HTMLElements|string} [optional]\r\n */\r\nlazycouch.prototype.set = function () {\r\n    const self = this;\r\n    let elements, _arr;\r\n\r\n    _arr = arguments.length > 0 ? arguments[0] : self.conf.defaultSelector;\r\n    elements = typeof _arr === \"string\" ? self.conf.container.querySelectorAll(_arr) : _arr;\r\n    self._elements = Array.prototype.slice.call(elements);\r\n    \r\n    return self;\r\n};\r\n\r\n/**\r\n * Setting up the observer, use Intersection Observer API if available\r\n */\r\nlazycouch.prototype.observe = function () {\r\n    const self = this,\r\n        cb = self.conf.callback;\r\n    let i, _el, _l, intstobs, \r\n        runcallback = 0;\r\n\r\n    self._upd = function () {\r\n        let elements, _arr;\r\n\r\n        self._elements.forEach((elem) => {\r\n            if (view.inview(elem))\r\n                showElements(elem, self.conf);\r\n        });\r\n\r\n        self._elements = detach(self._elements);\r\n\r\n        // Detach resize event if all elements are detached\r\n        if (self._elements.length < 1) {\r\n            self.off('resize', self._upd);\r\n        }\r\n    };\r\n\r\n    if (window[\"IntersectionObserver\"] === void 0) {\r\n        console.warn(\"IntersectionObserver is not supported on this browser.\" \r\n            + \"Falling back to scroll-based event\");\r\n        self.conf.useIO = false;\r\n    }\r\n\r\n    if (self.conf.useIO) {\r\n        console.log(\"Using IntersectionObserver API\");\r\n\r\n        intstobs = (el) => {\r\n            runcallback = 0;\r\n            el.forEach((entry) => {\r\n                if (entry.intersectionRatio) {\r\n                    showElements(entry.target, self.conf);\r\n\r\n                    if (self.conf.useClass) {\r\n                        removeClass(entry.target, self.conf.loadingClass);\r\n                        addClass(entry.target, self.conf.doneClass);\r\n                    }\r\n\r\n                    self._obsvr.unobserve(entry.target);\r\n                    if (typeof cb === \"function\") runcallback = 1;\r\n                }\r\n            });\r\n            self._elements = detach(self._elements);\r\n            if (runcallback) cb.call(null);\r\n        };\r\n\r\n        self._obsvr = new IntersectionObserver(intstobs, self.conf.options);\r\n\r\n        self._elements.forEach((el) => {\r\n            self._obsvr.observe(el);\r\n        });\r\n\r\n    } else {\r\n        console.log(\"Using scroll event\");\r\n        \r\n        self._sc = function (ev) {\r\n            _l = self._elements.length;\r\n\r\n            window.clearTimeout(self._timeModel);\r\n            runcallback = 0;\r\n\r\n            if (_l < 1) {\r\n                // Unattach the event itself once all elements are loaded\r\n                self.off('scroll', self._sc);\r\n                return;\r\n            }\r\n\r\n            // Debouncing to prevent performance bottlenecking \r\n            self._timeModel = window.setTimeout(() => {\r\n                for (i = 0; i < _l; i++) {\r\n                    _el = self._elements[i];\r\n                    if (view.inview(_el)) {\r\n                        showElements(_el, self.conf);\r\n\r\n                        if (self.conf.useClass) {\r\n                            removeClass(_el, self.conf.loadingClass);\r\n                            addClass(_el, self.conf.doneClass);\r\n                        }\r\n\r\n                        if (typeof cb === \"function\") runcallback = 1;\r\n                    }\r\n                }\r\n                self._elements = detach(self._elements);\r\n                if (runcallback) cb.call(null);\r\n            }, self.conf.debounce);\r\n        };\r\n        self.on('scroll', self._sc).on('resize', self._upd)\r\n        \r\n        // Update the elements on first initial view\r\n        window.requestAnimationFrame(self._upd);\r\n    }\r\n    \r\n    return self;\r\n};\r\n\r\n/**\r\n * Self-destruct. Game over man.\r\n */\r\nlazycouch.prototype.destroy = function() {\r\n    // Self-destruct. Game over man.\r\n    const self = this;\r\n    let _arr = detach(self._elements);\r\n\r\n    if (self._obsvr) {\r\n        _arr.forEach((el) => {\r\n            self._obsvr.unobserve(el);\r\n        });\r\n        self._obsvr = null;\r\n    } else {\r\n        self.off('scroll', self._sc).off('resize', self._upd);\r\n    }\r\n\r\n    self._elements = [];\r\n    self.conf = {};\r\n\r\n    return self;\r\n};\r\n\r\nmodule.exports = lazycouch;\n\n\n// WEBPACK FOOTER //\n// ./src/core.js","/**\r\n * @module view\r\n * @description A module for checking if element is in view or not\r\n * @author Moss Pakhapoca\r\n */\r\n\r\nconst doc = document && document.documentElement;\r\nconst matchMedia = window.matchMedia || window.msMatchMedia;\r\n\r\nlet mediaQuery = (q) => {\r\n    return matchMedia ? matchMedia.call(window, q).matches : false;\r\n};\r\n\r\nconst viewport = () => {\r\n    let h = doc.clientHeight < window.innerHeight;\r\n    let w = doc.clientWidth < window.innerWidth;\r\n    return {\r\n        height: h ? window.innerHeight : doc.clientHeight,\r\n        width: w ? window.innerWidth : doc.clientWidth\r\n    };\r\n};\r\n\r\nlet rect = (el) => {\r\n    el = el && !el.nodeType ? el[0] : el;\r\n    if (!el || 1 !== el.nodeType) return {};\r\n    return el.getBoundingClientRect();\r\n};\r\n\r\nlet inview = (el) => {\r\n    let r = rect(el), v = viewport();\r\n    return !!r && r.bottom >= 0 && r.right >= 0 && r.top <= v.height && r.left <= v.width;\r\n};\r\n\r\nlet scroll = () => window.pageYOffset || doc.scrollTop;\r\n\r\nexport const view = {\r\n    viewport: viewport,\r\n    inview: inview,\r\n    scroll: scroll\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utility/view.js"],"sourceRoot":""}