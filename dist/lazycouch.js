var lazycouch=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){e=e||{};for(var t=1,n=void 0,o=arguments;t<o.length;t++)if(o[t])for(n in o[t])o[t].hasOwnProperty(n)&&(e[n]=o[t][n]);return e}function r(e){if(f){var t={};return d.forEach(function(n){switch(n){case"data-lazy-src":t.lazySrc=e.getAttribute(n);break;case"data-lazy-srcset":t.lazySrcset=e.getAttribute(n)}}),console.log(t),t}return o({},e.dataset)}function i(e,t){var n=r(e),o=e.tagName;n.lazySrcset&&e.setAttribute("srcset",n.lazySrcset),n.lazySrc&&(-1!==o.indexOf("IMG","IFRAME")?e.setAttribute("src",n.lazySrc):e.style.backgroundImage='url("'+n.lazySrc+'")')}function s(e){e.setAttribute("data-lazy-done",!0)}function c(e,t){i(e,t),s(e)}function l(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function a(e,t){e.classList?e.classList.add(t):e.className+=" "+t}var u=n(1),f=-1!==navigator.userAgent.indexOf("MSIE"),d=(/Trident\/\d+.\d+;/.test(navigator.userAgent),new RegExp("lazy[A-Z](.*)"),"data-lazy-src|data-lazy-srcset".split("|")),p={useIO:!0,useApp:!1,container:window.document,defaultSelector:"img[data-lazy-src]",options:{root:null,rootMargin:"0px",threshold:null},callback:null,useClass:!1,loadingClass:"is-lazyloading",doneClass:"is-lazydone",onload:!0,debounce:250},v=function(e){return-1!==Object.prototype.toString.call(e).indexOf("Null")},g=function(e){return e.filter(function(e){return v(e.getAttribute("data-lazy-done"))})},y=function(e){var t=this;if(e="[object Object]"===Object.prototype.toString.call(e)?e:{},t.conf=o(p,e),t.conf.container!==p.container&&t.conf.useApp&&console.warn('Using "useApp" option has overrode the container setting. You\'ve been warned'),t.conf.useApp&&(t.conf.container=document.querySelector("*[data-lazy-app]"),v(t.conf.container)))throw new Error("Unable to find relavant element to attach to");return t._timeModel=0,t.set(),t.conf.onload?t.on("load",t.observe.bind(t)):t.observe(),t};y.prototype.on=function(e,t){if("function"!=typeof t)return console.error(t," is not type of function"),this;if("string"!=typeof e)return console.error(e," is not type of string"),this;var n=this,o=window.addEventListener,r=e.split(" "),i=void 0,s=void 0;for(i=0;i<r.length;i++)s=r[i],o(s,t);return n},y.prototype.off=function(e,t){if("function"!=typeof t)return console.error(t," is not type of function"),this;if("string"!=typeof e)return console.error(e," is not type of string"),this;var n=window.removeEventListener,o=e.split(" "),r=void 0,i=void 0;for(r=0;r<o.length;r++)i=o[r],n(i,t);return self},y.prototype.set=function(){var e=this,t=void 0,n=void 0;return n=arguments.length>0?arguments[0]:e.conf.defaultSelector,t="string"==typeof n?e.conf.container.querySelectorAll(n):n,e._elements=Array.prototype.slice.call(t),e},y.prototype.observe=function(){var e=this,t=e.conf.callback,n=void 0,o=void 0,r=void 0,i=void 0,s=0;return e._upd=function(){e._elements.forEach(function(t){u.view.inview(t)&&c(t,e.conf)}),e._elements=g(e._elements),e._elements.length<1&&e.off("resize",e._upd)},void 0===window.IntersectionObserver&&(console.warn("IntersectionObserver is not supported on this browser.Falling back to scroll-based event"),e.conf.useIO=!1),e.conf.useIO?(console.log("Using IntersectionObserver API"),i=function(n){s=0,n.forEach(function(n){n.intersectionRatio&&(c(n.target,e.conf),e.conf.useClass&&(l(n.target,e.conf.loadingClass),a(n.target,e.conf.doneClass)),e._obsvr.unobserve(n.target),"function"==typeof t&&(s=1))}),e._elements=g(e._elements),s&&t.call(null)},e._obsvr=new IntersectionObserver(i,e.conf.options),e._elements.forEach(function(t){e._obsvr.observe(t)})):(console.log("Using scroll event"),e._sc=function(i){if(r=e._elements.length,window.clearTimeout(e._timeModel),s=0,r<1)return void e.off("scroll",e._sc);e._timeModel=window.setTimeout(function(){for(n=0;n<r;n++)o=e._elements[n],u.view.inview(o)&&(c(o,e.conf),e.conf.useClass&&(l(o,e.conf.loadingClass),a(o,e.conf.doneClass)),"function"==typeof t&&(s=1));e._elements=g(e._elements),s&&t.call(null)},e.conf.debounce)},e.on("scroll",e._sc).on("resize",e._upd),window.requestAnimationFrame(e._upd)),e},y.prototype.destroy=function(){var e=this,t=g(e._elements);return e._obsvr?(t.forEach(function(t){e._obsvr.unobserve(t)}),e._obsvr=null):e.off("scroll",e._sc).off("resize",e._upd),e._elements=[],e.conf={},e},e.exports=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=document&&document.documentElement,r=(window.matchMedia||window.msMatchMedia,function(){var e=o.clientHeight<window.innerHeight,t=o.clientWidth<window.innerWidth;return{height:e?window.innerHeight:o.clientHeight,width:t?window.innerWidth:o.clientWidth}}),i=function(e){return e=e&&!e.nodeType?e[0]:e,e&&1===e.nodeType?e.getBoundingClientRect():{}},s=function(e){var t=i(e),n=r();return!!t&&t.bottom>=0&&t.right>=0&&t.top<=n.height&&t.left<=n.width},c=function(){return window.pageYOffset||o.scrollTop};t.view={viewport:r,inview:s,scroll:c}}]);
//# sourceMappingURL=lazycouch.js.map